{% extends 'base.html.twig' %}

{% block title %}Profil de {{ user.name }}{% endblock %}

{% block body %}
    <div class="container mt-5 text-center">
        <h2>Profil de {{ user.name }}</h2>

        <!-- Photo de Profil -->
        <div class="profile-photo my-4">
            {% if user.photo %}
                <img src="{{ asset('uploads/photos/' ~ user.photo) }}" alt="Photo de profil" class="img-fluid rounded-circle" style="max-width: 150px; height: 150px; object-fit: cover;">
            {% else %}
                <img src="{{ asset('images/default-avatar.png') }}" alt="Photo de profil par défaut" class="img-fluid rounded-circle" style="max-width: 150px; height: 150px; object-fit: cover;">
            {% endif %}
        </div>

        <!-- Boutons d'action -->
       <!-- Boutons d'action -->
<div class="d-grid gap-3 col-6 mx-auto">
    <a href="{{ path('app_edit_profile', {'id': user.id}) }}" class="btn btn-primary">Modifier le profil</a>
    <a href="{{ path('app_reset_password', {'id': user.id}) }}" class="btn btn-warning">Réinitialiser le mot de passe</a>
    <a href="{{ path('app_logout') }}" class="btn btn-danger">Se déconnecter</a>
<form action="{{ path('app_delete_account', {'id': user.id}) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete your account?');">
    <input type="hidden" name="password" value="USER_PASSWORD_HERE"> {# Replace or use a form field #}
    <button type="submit" class="btn btn-danger">Supprimer mon compte</button>
</form>
</div>

    </div>
{% endblock %}
