{% extends 'base.html.twig' %}

{% block title %}Réinitialiser votre mot de passe{% endblock %}

{% block body %}
    <section class="background-radial-gradient overflow-hidden">
      <style>
         .background-radial-gradient {
      background: linear-gradient(135deg, #2D2B30 20%, #3A3A3A 80%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .bg-glass {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .form-control {
      border-radius: 10px;
      padding: 15px;
      font-size: 1rem;
      width: 100%; 
      margin-bottom: 20px;
    }

    .btn-primary {
      background-color: #E52C2C;
      border: none;
      transition: background 0.3s ease, transform 0.2s ease-in-out;
      width: 100%;
    }

    .btn-primary:hover {
      background-color: #C41F1F;
      transform: scale(1.05);
    }

    .text-center {
      text-align: center;
    }

    .form-container {
      max-width: 500px;
      width: 100%;
    }

    h1 {
      color: #ffffff;
      font-weight: 700;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      margin-bottom: 20px;
    }

    /* Nouveau style pour le lien */
    .text-red {
      color: #E52C2C;
      font-weight: 600;
    }

    .text-red:hover {
      text-decoration: underline;
    }
  </style>

        <div class="container my-5">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="text-center">
                        <h1 class="my-4 display-5">Réinitialiser votre mot de passe</h1>

                        {% for flash_error in app.flashes('reset_password_error') %}
                            <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
                        {% endfor %}

                        <p>Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe.</p>
                    </div>

                    {{ form_start(requestForm) }}
                        <div class="mb-3">
                            {{ form_label(requestForm.email, 'Adresse e-mail') }}
                            {{ form_widget(requestForm.email, {'attr': {'class': 'form-control'}}) }}
                            {% if form_errors(requestForm.email) %}
                                <div class="text-danger">
                                    {{ form_errors(requestForm.email) }}
                                </div>
                            {% endif %}
                        </div>

                        <button type="submit" class="btn btn-primary w-100">Envoyer l'e-mail de réinitialisation</button>
                    {{ form_end(requestForm) }}

                    <div class="text-center my-3">
                        <p>Vous vous souvenez de votre mot de passe ? <a href="{{ path('app_login') }}">Connectez-vous ici</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
